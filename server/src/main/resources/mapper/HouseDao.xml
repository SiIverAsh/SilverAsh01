<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.app.homestay.mapper.HouseMapper">

    <resultMap id="house" type="com.app.homestay.domain.HouseInfo">
        <result column="uid" property="uid"/>
        <result column="introduce" property="introduce"/>
        <result column="original_price" property="original_price"/>
        <result column="discount_price" property="discount_price"/>
        <result column="house_img" property="house_img"/>
        <result column="address" property="address"/>
        <result column="create_time" property="create_time"/>
    </resultMap>

    <!--    添加-->
    <insert id="add" parameterType="houseInfo">
        insert into house_table
        values(#{uid},#{introduce},#{original_price},#{discount_price},#{house_img},#{address},#{create_time})
    </insert>


    <!--    查询语句-->
    <select id="houseAll" resultMap="house">
        select * from house_table order by uid desc
    </select>

    <!--    删除语句-->

    <delete id="del" parameterType="java.lang.Integer">

        delete from house_table where uid=#{uid}

    </delete>

<!--    修改-->

    <update id="update" parameterType="houseInfo">

        update house_table
        <trim prefix="set" suffixOverrides=",">
            <if test="introduce!=null">introduce=#{introduce},</if>
            <if test="original_price!=null">original_price=#{original_price},</if>
            <if test="discount_price!=null">discount_price=#{discount_price},</if>
            <if test="house_img!=null">house_img=#{house_img},</if>
            <if test="address!=null">address=#{address},</if>
            <if test="create_time!=null">create_time=#{create_time},</if>
        </trim>
        where uid=#{uid}


    </update>

</mapper>